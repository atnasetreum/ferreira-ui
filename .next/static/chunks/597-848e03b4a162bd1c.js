"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[597],{8719:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(5893),s=t(7294),i=t(1903),o=t(5545),a=t(8274);function l(e){let{value:n,onChange:t}=e,[l,c]=(0,s.useState)([]);return(0,s.useEffect)(()=>{a.Wj.getDrivers().then(c)},[]),(0,r.jsx)(o.Z,{disablePortal:!0,id:"combo-box-demo-drivers",options:l,getOptionLabel:e=>e.name,renderInput:e=>(0,r.jsx)(i.Z,{...e,label:"Drivers",fullWidth:!0}),value:n,onChange:(e,n)=>t(n)})}},8854:function(e,n,t){t.d(n,{wZ:function(){return o},E5:function(){return x},EV:function(){return h},tF:function(){return p},h1:function(){return d},Yk:function(){return b},AF:function(){return m}});var r=t(5893),s=t(3795),i=t(5861);let o=e=>(0,r.jsxs)(i.Z,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Copyright \xa9 ",(0,r.jsx)(s.Z,{color:"inherit",target:"_blank",href:"https://www.google.com/search?q=miguel+ferreira&source=lnms&tbm=isch&sa=X&ved=2ahUKEwjOp8SbnbT8AhU6NEQIHYh7B1oQ_AUoAXoECAEQAw&biw=1920&bih=975&dpr=1#imgrc=6nDBPXCQvl3kgM",children:"Miguel Luis Inc."})," ",new Date().getFullYear(),"."]});var a=t(7294),l=t(1903),c=t(5545),u=t(8274);let d=e=>{let{label:n,value:t,onChange:s,type:i,idsDisabled:o}=e,[d,h]=(0,a.useState)([]);return(0,a.useEffect)(()=>{"noParent"===i?u.Fz.getAllNoParent().then(h):u.Fz.getAllBasicSeller().then(h)},[i]),(0,r.jsx)(c.Z,{options:d,getOptionLabel:e=>"".concat(e.uuid," - ").concat(e.nombre),getOptionDisabled:e=>!!(null==o?void 0:o.includes(e.id)),renderInput:e=>(0,r.jsx)(l.Z,{...e,label:null!=n?n:"Sellers",autoComplete:"off"}),value:t,onChange:(e,n)=>s(n)})},h=e=>{let{entidad:n,setEntidad:t}=e,[s,i]=a.useState([]);return a.useEffect(()=>{u.gZ.getAll().then(i)},[]),(0,r.jsx)(c.Z,{options:s,renderInput:e=>(0,r.jsx)(l.Z,{...e,label:"Estado",autoComplete:"off"}),value:n,onChange:(e,n)=>t(n)})},p=e=>{let{municipio:n,setMunicipio:t,entidad:s}=e,[i,o]=a.useState([]);return a.useEffect(()=>{s&&!i.length?u.Lz.getAll(s).then(o):!s&&i.length&&o([])},[s,i]),(0,r.jsx)(c.Z,{options:i,renderInput:e=>(0,r.jsx)(l.Z,{...e,label:"Municipio",autoComplete:"off"}),value:n,onChange:(e,n)=>t(n)})},x=e=>{let{ciudad:n,setCiudad:t,entidad:s,municipio:i}=e,[o,d]=a.useState([]);return a.useEffect(()=>{s&&i&&!o.length?u.H0.getAll(s,i).then(d):s||i||!o.length||d([])},[s,i,o]),(0,r.jsx)(c.Z,{options:o,renderInput:e=>(0,r.jsx)(l.Z,{...e,label:"Ciudad",autoComplete:"off"}),value:n,onChange:(e,n)=>t(n)})};var Z=t(948),g=t(8102),j=t(9755),f=t(3816);let m=(0,Z.ZP)(f.Z)(e=>{let{theme:n}=e;return{"&:nth-of-type(odd)":{backgroundColor:n.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),b=(0,Z.ZP)(g.Z)(e=>{let{theme:n}=e;return{["&.".concat(j.Z.head)]:{backgroundColor:n.palette.primary.main,color:n.palette.common.white},["&.".concat(j.Z.body)]:{fontSize:14}}});t(8719)},4112:function(e,n,t){t.d(n,{m:function(){return i},d:function(){return r.d}});var r=t(7889),s=t(7294);let i=function(e){let[n,t]=(0,s.useState)(e),[r,i]=(0,s.useState)("");return(0,s.useEffect)(()=>{let e="";for(let t in n){let r=n[t];r&&(e=""===e?"?".concat(t,"=").concat(r):e+"&".concat(t,"=").concat(r))}console.log({params:e}),i(e)},[n]),{filters:n,setFilters:t,querystring:r}}},7889:function(e,n,t){t.d(n,{d:function(){return s}});var r=t(5678);let s=()=>{let e=(e,n)=>{(0,r.Am)(e,{hideProgressBar:!1,autoClose:2e3,type:null!=n?n:"warning",position:"top-right"})};return{notify:e}}},3318:function(e,n,t){t.d(n,{Z:function(){return _}});var r=t(5893),s=t(7294),i=t(948),o=t(8239),a=t(1927),l=t(6720),c=t(7533),u=t(7357),d=t(2293),h=t(155),p=t(8462),x=t(5861),Z=t(7720),g=t(3946),j=t(1594),f=t(5582),m=t(326),b=t(9572),v=t(5817),w=t(8619),C=t(7594),y=t(9334),S=t(5709),k=t(3540),E=t(1163),I=t(2428),A=t(252),P=t(9308),D=t(8470);let L={ADMIN:"ADMIN",DRIVER:"DRIVER"},F=()=>{let e=(0,E.useRouter)(),{user:n}=s.useContext(D.Vo);return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsxs)(w.Z,{onClick:()=>e.push("/dashboard"),selected:"/dashboard"===e.pathname,children:[(0,r.jsx)(C.Z,{children:(0,r.jsx)(S.Z,{})}),(0,r.jsx)(y.Z,{primary:"Inicio"})]}),(null==n?void 0:n.userType)===L.ADMIN&&(0,r.jsxs)(w.Z,{onClick:()=>e.push("/sellers"),selected:"/sellers"===e.pathname,children:[(0,r.jsx)(C.Z,{children:(0,r.jsx)(A.Z,{})}),(0,r.jsx)(y.Z,{primary:"Sellers"})]}),(0,r.jsxs)(w.Z,{onClick:()=>e.push("/rutas"),selected:"/rutas"===e.pathname,children:[(0,r.jsx)(C.Z,{children:(0,r.jsx)(P.Z,{})}),(0,r.jsx)(y.Z,{primary:"Rutas"})]})]})},M=()=>{let e=(0,E.useRouter)(),{logoutUser:n,user:t}=s.useContext(D.Vo);return(0,r.jsxs)(s.Fragment,{children:[(null==t?void 0:t.userType)===L.ADMIN&&(0,r.jsxs)(w.Z,{onClick:()=>e.push("/users"),selected:"/users"===e.pathname,children:[(0,r.jsx)(C.Z,{children:(0,r.jsx)(I.Z,{})}),(0,r.jsx)(y.Z,{primary:"Users"})]}),(0,r.jsxs)(w.Z,{onClick:()=>n(),children:[(0,r.jsx)(C.Z,{children:(0,r.jsx)(k.Z,{})}),(0,r.jsx)(y.Z,{primary:"Salir"})]})]})};var N=t(8854);let R=(0,i.ZP)(d.Z,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:n,open:t}=e;return{zIndex:n.zIndex.drawer+1,transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),...t&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen})}}}),z=(0,i.ZP)(c.ZP,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:n,open:t}=e;return{"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:240,transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen}),boxSizing:"border-box",...!t&&{overflowX:"hidden",transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),width:n.spacing(7),[n.breakpoints.up("sm")]:{width:n.spacing(9)}}}}}),V=(0,o.Z)();function _(e){let{children:n,title:t}=e,[i,o]=s.useState(!0),{isLoggedIn:c,user:d}=s.useContext(D.Vo),w=()=>{o(!i)};return c?(0,r.jsx)(a.Z,{theme:V,children:(0,r.jsxs)(u.Z,{sx:{display:"flex"},children:[(0,r.jsx)(l.ZP,{}),(0,r.jsx)(R,{position:"absolute",open:i,children:(0,r.jsxs)(h.Z,{sx:{pr:"24px"},children:[(0,r.jsx)(g.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:w,sx:{marginRight:"36px",...i&&{display:"none"}},children:(0,r.jsx)(m.Z,{})}),(0,r.jsx)(x.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:d&&"".concat(d.name," - ").concat(d.userType)}),(0,r.jsx)(g.Z,{color:"inherit",children:(0,r.jsx)(j.Z,{badgeContent:4,color:"secondary",children:(0,r.jsx)(v.Z,{})})})]})}),(0,r.jsxs)(z,{variant:"permanent",open:i,children:[(0,r.jsx)(h.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:(0,r.jsx)(g.Z,{onClick:w,children:(0,r.jsx)(b.Z,{})})}),(0,r.jsx)(Z.Z,{}),(0,r.jsxs)(p.Z,{component:"nav",children:[(0,r.jsx)(F,{}),(0,r.jsx)(Z.Z,{sx:{my:1}}),(0,r.jsx)(M,{})]})]}),(0,r.jsxs)(u.Z,{component:"main",sx:{backgroundColor:e=>"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,r.jsx)(h.Z,{}),(0,r.jsxs)(f.Z,{maxWidth:!1,sx:{mt:4,mb:4},children:[(0,r.jsx)(x.Z,{variant:"h4",gutterBottom:!0,children:t}),n,(0,r.jsx)(N.wZ,{sx:{pt:4}})]})]})]})}):null}},1459:function(e,n,t){t.d(n,{j:function(){return i},p:function(){return o}});var r=t(381),s=t.n(r);t(5655);let i=e=>s()(e).format("LLLL a"),o=e=>s()(e).format("LL")}}]);