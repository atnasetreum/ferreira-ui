"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[318],{8719:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(5893),s=n(7294),i=n(1903),a=n(5545),l=n(6308);function o(e){let{value:t,onChange:n}=e,[o,c]=(0,s.useState)([]);return(0,s.useEffect)(()=>{l.Wj.getDrivers().then(c)},[]),(0,r.jsx)(a.Z,{disablePortal:!0,id:"combo-box-demo-drivers",options:o,getOptionLabel:e=>e.name,renderInput:e=>(0,r.jsx)(i.Z,{...e,label:"Drivers",fullWidth:!0}),value:t,onChange:(e,t)=>n(t)})}},7494:function(e,t,n){n.d(t,{D:function(){return o}});var r=n(5893),s=n(7294),i=n(1903),a=n(5545),l=n(6308);let o=e=>{let{value:t,onChange:n}=e,[o,c]=(0,s.useState)([]);return(0,s.useEffect)(()=>{l.BC.getAll().then(c)},[]),(0,r.jsx)(a.Z,{disablePortal:!0,id:"combo-box-demo-placas",options:o,getOptionLabel:e=>"".concat(e.placa," - ").concat(e.logistica.name),renderInput:e=>(0,r.jsx)(i.Z,{...e,label:"Placas",fullWidth:!0}),value:t,onChange:(e,t)=>n(t)})}},8126:function(e,t,n){n.d(t,{wZ:function(){return a},E5:function(){return p},EV:function(){return h},yO:function(){return D},tF:function(){return x},DA:function(){return E.D},h1:function(){return u},Yk:function(){return b},AF:function(){return f},DY:function(){return S}});var r=n(5893),s=n(3795),i=n(5861);let a=e=>(0,r.jsxs)(i.Z,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Copyright \xa9 ",(0,r.jsx)(s.Z,{color:"inherit",target:"_blank",href:"https://www.google.com/search?q=miguel+ferreira&source=lnms&tbm=isch&sa=X&ved=2ahUKEwjOp8SbnbT8AhU6NEQIHYh7B1oQ_AUoAXoECAEQAw&biw=1920&bih=975&dpr=1#imgrc=6nDBPXCQvl3kgM",children:"Miguel Luis Inc."})," ",new Date().getFullYear(),"."]});var l=n(7294),o=n(1903),c=n(5545),d=n(6308);let u=e=>{let{label:t,value:n,onChange:s,type:i,idsDisabled:a}=e,[u,h]=(0,l.useState)([]);return(0,l.useEffect)(()=>{"noParent"===i?d.Fz.getAllNoParent().then(h):d.Fz.getAllBasicSeller().then(h)},[i]),(0,r.jsx)(c.Z,{options:u,getOptionLabel:e=>"".concat(e.uuid," - ").concat(e.nombre),getOptionDisabled:e=>!!(null==a?void 0:a.includes(e.id)),renderInput:e=>(0,r.jsx)(o.Z,{...e,label:null!=t?t:"Sellers",autoComplete:"off"}),value:n,onChange:(e,t)=>s(t)})},h=e=>{let{entidad:t,setEntidad:n}=e,[s,i]=l.useState([]);return l.useEffect(()=>{d.gZ.getAll().then(i)},[]),(0,r.jsx)(c.Z,{options:s,renderInput:e=>(0,r.jsx)(o.Z,{...e,label:"Estado",autoComplete:"off"}),value:t,onChange:(e,t)=>n(t)})},x=e=>{let{municipio:t,setMunicipio:n,entidad:s}=e,[i,a]=l.useState([]);return l.useEffect(()=>{s&&!i.length?d.Lz.getAll(s).then(a):!s&&i.length&&a([])},[s,i]),(0,r.jsx)(c.Z,{options:i,renderInput:e=>(0,r.jsx)(o.Z,{...e,label:"Municipio",autoComplete:"off"}),value:t,onChange:(e,t)=>n(t)})},p=e=>{let{ciudad:t,setCiudad:n,entidad:s,municipio:i}=e,[a,u]=l.useState([]);return l.useEffect(()=>{s&&i&&!a.length?d.H0.getAll(s,i).then(u):s||i||!a.length||u([])},[s,i,a]),(0,r.jsx)(c.Z,{options:a,renderInput:e=>(0,r.jsx)(o.Z,{...e,label:"Ciudad",autoComplete:"off"}),value:t,onChange:(e,t)=>n(t)})};var Z=n(948),j=n(8102),g=n(9755),m=n(8509);let f=(0,Z.ZP)(m.Z)(e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),b=(0,Z.ZP)(j.Z)(e=>{let{theme:t}=e;return{["&.".concat(g.Z.head)]:{backgroundColor:t.palette.primary.main,color:t.palette.common.white},["&.".concat(g.Z.body)]:{fontSize:14}}});n(8719);var C=n(2734),v=n(7357),w=n(3946),k=n(8066),y=n(6172),I=n(8317),A=n(1290);let S=e=>{let t=(0,C.Z)(),{count:n,page:s,rowsPerPage:i,onPageChange:a}=e,l=e=>{a(e,0)},o=e=>{a(e,s-1)},c=e=>{a(e,s+1)},d=e=>{a(e,Math.max(0,Math.ceil(n/i)-1))};return(0,r.jsxs)(v.Z,{sx:{flexShrink:0,ml:2.5},children:[(0,r.jsx)(w.Z,{onClick:l,disabled:0===s,"aria-label":"first page",children:"rtl"===t.direction?(0,r.jsx)(A.Z,{}):(0,r.jsx)(k.Z,{})}),(0,r.jsx)(w.Z,{onClick:o,disabled:0===s,"aria-label":"previous page",children:"rtl"===t.direction?(0,r.jsx)(I.Z,{}):(0,r.jsx)(y.Z,{})}),(0,r.jsx)(w.Z,{onClick:c,disabled:s>=Math.ceil(n/i)-1,"aria-label":"next page",children:"rtl"===t.direction?(0,r.jsx)(y.Z,{}):(0,r.jsx)(I.Z,{})}),(0,r.jsx)(w.Z,{onClick:d,disabled:s>=Math.ceil(n/i)-1,"aria-label":"last page",children:"rtl"===t.direction?(0,r.jsx)(k.Z,{}):(0,r.jsx)(A.Z,{})})]})},D=e=>{let{value:t,onChange:n}=e,[s,i]=(0,l.useState)([]);return(0,l.useEffect)(()=>{d.N4.getAll().then(i)},[]),(0,r.jsx)(c.Z,{disablePortal:!0,id:"combo-box-demo-logisticas",options:s,getOptionLabel:e=>e.name,renderInput:e=>(0,r.jsx)(o.Z,{...e,label:"Logisticas",fullWidth:!0}),value:t,onChange:(e,t)=>n(t)})};var E=n(7494)},3318:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(5893),s=n(7294),i=n(948),a=n(8239),l=n(1927),o=n(6720),c=n(7533),d=n(7357),u=n(2293),h=n(155),x=n(8462),p=n(5861),Z=n(7720),j=n(3946),g=n(1594),m=n(5582),f=n(326),b=n(9572),C=n(5817),v=n(8619),w=n(7594),k=n(9334),y=n(5709),I=n(3540),A=n(1163),S=n(2428),D=n(252),E=n(9308),M=n(8470);let P={ADMIN:"ADMIN",DRIVER:"DRIVER"};var N=n(4637),F=n(3816);let L=()=>{let e=(0,A.useRouter)(),{user:t}=s.useContext(M.Vo),n=s.useMemo(()=>null==t?void 0:t.userType,[t]);return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsxs)(v.Z,{onClick:()=>e.push("/dashboard"),selected:"/dashboard"===e.pathname,children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(y.Z,{})}),(0,r.jsx)(k.Z,{primary:"Inicio"})]}),n===P.ADMIN&&(0,r.jsxs)(v.Z,{onClick:()=>e.push("/sellers"),selected:"/sellers"===e.pathname,children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(D.Z,{})}),(0,r.jsx)(k.Z,{primary:"Sellers"})]}),n===P.ADMIN&&(0,r.jsxs)(v.Z,{onClick:()=>e.push("/rutas"),selected:"/rutas"===e.pathname,children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(E.Z,{})}),(0,r.jsx)(k.Z,{primary:"Rutas"})]}),n===P.ADMIN&&(0,r.jsxs)(v.Z,{onClick:()=>e.push("/camionetas"),selected:"/camionetas"===e.pathname,children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(N.Z,{})}),(0,r.jsx)(k.Z,{primary:"Camionetas"})]}),n===P.ADMIN&&(0,r.jsxs)(v.Z,{onClick:()=>e.push("/logisticas"),selected:"/logisticas"===e.pathname,children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(F.Z,{})}),(0,r.jsx)(k.Z,{primary:"Logisticas"})]})]})},R=()=>{let e=(0,A.useRouter)(),{logoutUser:t,user:n}=s.useContext(M.Vo);return(0,r.jsxs)(s.Fragment,{children:[(null==n?void 0:n.userType)===P.ADMIN&&(0,r.jsxs)(v.Z,{onClick:()=>e.push("/users"),selected:"/users"===e.pathname,children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(S.Z,{})}),(0,r.jsx)(k.Z,{primary:"Users"})]}),(0,r.jsxs)(v.Z,{onClick:()=>t(),children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(I.Z,{})}),(0,r.jsx)(k.Z,{primary:"Salir"})]})]})};var z=n(8126);let O=(0,i.ZP)(u.Z,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:t,open:n}=e;return{zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}}}),V=(0,i.ZP)(c.ZP,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:t,open:n}=e;return{"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box",...!n&&{overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7),[t.breakpoints.up("sm")]:{width:t.spacing(9)}}}}}),W=(0,a.Z)();function _(e){let{children:t,title:n}=e,[i,a]=s.useState(!0),{isLoggedIn:c,user:u}=s.useContext(M.Vo),v=()=>{a(!i)};return c?(0,r.jsx)(l.Z,{theme:W,children:(0,r.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,r.jsx)(o.ZP,{}),(0,r.jsx)(O,{position:"absolute",open:i,children:(0,r.jsxs)(h.Z,{sx:{pr:"24px"},children:[(0,r.jsx)(j.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:v,sx:{marginRight:"36px",...i&&{display:"none"}},children:(0,r.jsx)(f.Z,{})}),(0,r.jsx)(p.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:u&&"".concat(u.name," - ").concat(u.userType)}),(0,r.jsx)(j.Z,{color:"inherit",children:(0,r.jsx)(g.Z,{badgeContent:4,color:"secondary",children:(0,r.jsx)(C.Z,{})})})]})}),(0,r.jsxs)(V,{variant:"permanent",open:i,children:[(0,r.jsx)(h.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:(0,r.jsx)(j.Z,{onClick:v,children:(0,r.jsx)(b.Z,{})})}),(0,r.jsx)(Z.Z,{}),(0,r.jsxs)(x.Z,{component:"nav",children:[(0,r.jsx)(L,{}),(0,r.jsx)(Z.Z,{sx:{my:1}}),(0,r.jsx)(R,{})]})]}),(0,r.jsxs)(d.Z,{component:"main",sx:{backgroundColor:e=>"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,r.jsx)(h.Z,{}),(0,r.jsxs)(m.Z,{maxWidth:!1,sx:{mt:4,mb:4},children:[(0,r.jsx)(p.Z,{variant:"h4",gutterBottom:!0,children:n}),t,(0,r.jsx)(z.wZ,{sx:{pt:4}})]})]})]})}):null}}}]);