(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{9069:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(4938)),i=n(5893),s=(0,a.default)((0,i.jsx)("path",{d:"M13 8c0-2.21-1.79-4-4-4S5 5.79 5 8s1.79 4 4 4 4-1.79 4-4zm2 2v2h3v3h2v-3h3v-2h-3V7h-2v3h-3zM1 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4z"}),"PersonAddAlt1");t.Z=s},8972:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r=n(3366),a=n(7462),i=n(7294),s=n(6010),o=n(4780),l=n(1796),c=n(948),d=n(1657),u=n(9773),p=n(9990),m=n(8974),h=n(1705),g=n(5097),v=n(4592),x=n(6336),f=n(1588),j=n(4867);function Z(e){return(0,j.Z)("MuiMenuItem",e)}let b=(0,f.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var y=n(5893);let k=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],C=(e,t)=>{let{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},$=e=>{let{disabled:t,dense:n,divider:r,disableGutters:i,selected:s,classes:l}=e,c=(0,o.Z)({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},Z,l);return(0,a.Z)({},l,c)},w=(0,c.ZP)(p.Z,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:C})(({theme:e,ownerState:t})=>(0,a.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${b.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${b.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${b.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${b.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${b.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${g.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${g.Z.inset}`]:{marginLeft:52},[`& .${x.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${x.Z.inset}`]:{paddingLeft:36},[`& .${v.Z.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,a.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${v.Z.root} svg`]:{fontSize:"1.25rem"}}))),O=i.forwardRef(function(e,t){let n;let o=(0,d.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:c="li",dense:p=!1,divider:g=!1,disableGutters:v=!1,focusVisibleClassName:x,role:f="menuitem",tabIndex:j,className:Z}=o,b=(0,r.Z)(o,k),C=i.useContext(u.Z),O=i.useMemo(()=>({dense:p||C.dense||!1,disableGutters:v}),[C.dense,p,v]),P=i.useRef(null);(0,m.Z)(()=>{l&&P.current&&P.current.focus()},[l]);let N=(0,a.Z)({},o,{dense:O.dense,divider:g,disableGutters:v}),I=$(o),A=(0,h.Z)(P,t);return o.disabled||(n=void 0!==j?j:-1),(0,y.jsx)(u.Z.Provider,{value:O,children:(0,y.jsx)(w,(0,a.Z)({ref:A,role:f,tabIndex:n,component:c,focusVisibleClassName:(0,s.Z)(I.focusVisible,x),className:(0,s.Z)(I.root,Z)},b,{ownerState:N,classes:I}))})});var P=O},6249:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return n(854)}])},4112:function(e,t,n){"use strict";n.d(t,{m:function(){return i},d:function(){return r.d}});var r=n(7889),a=n(7294);let i=function(e){let[t,n]=(0,a.useState)(e),[r,i]=(0,a.useState)("");return(0,a.useEffect)(()=>{let e="";for(let n in t){let r=t[n];r&&(e=""===e?"?".concat(n,"=").concat(r):e+"&".concat(n,"=").concat(r))}console.log({params:e}),i(e)},[t]),{filters:t,setFilters:n,querystring:r}}},7889:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var r=n(5678);let a=()=>{let e=(e,t)=>{(0,r.Am)(e,{hideProgressBar:!1,autoClose:2e3,type:null!=t?t:"warning",position:"top-right"})};return{notify:e}}},854:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(5893),a=n(6863),i=n(1057),s=n(6886),o=n(3318),l=n(9069),c=n(7294),d=n(7906),u=n(295),p=n(2882),m=n(3184),h=n(3816),g=n(629),v=n(9147),x=n(1459),f=n(1733),j=n(8274),Z=n(4112),b=function(e){let{users:t,getUsers:n}=e,{notify:a}=(0,Z.d)(),i=e=>{j.Wj.remove(e).then(()=>{a("Usuario eliminado correctamente","success"),n()}).catch(e=>{var t,n;return a((null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||e.message)})};return(0,r.jsx)(p.Z,{component:g.Z,children:(0,r.jsxs)(d.Z,{sx:{minWidth:700},"aria-label":"customized table",children:[(0,r.jsx)(m.Z,{children:(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(v.Yk,{children:"ID"}),(0,r.jsx)(v.Yk,{children:"Nombre"}),(0,r.jsx)(v.Yk,{children:"Tipo"}),(0,r.jsx)(v.Yk,{children:"Fecha de creacion"}),(0,r.jsx)(v.Yk,{children:"Ultima Actualizacion"}),(0,r.jsx)(v.Yk,{align:"center",children:"Eliminar"})]})}),(0,r.jsx)(u.Z,{children:t.map(e=>(0,r.jsxs)(v.AF,{children:[(0,r.jsx)(v.Yk,{component:"th",scope:"seller",children:e.id}),(0,r.jsx)(v.Yk,{children:e.name}),(0,r.jsx)(v.Yk,{children:e.userType.name}),(0,r.jsx)(v.Yk,{children:(0,x.jH)(e.createdAt)}),(0,r.jsx)(v.Yk,{children:(0,x.jH)(e.updatedAt)}),(0,r.jsx)(v.Yk,{align:"center",children:(0,r.jsx)(f.Z,{color:"error",style:{cursor:"pointer"},onClick:()=>i(e.id)})})]},e.id))})]})})},y=n(1903),k=n(6818),C=n(4054),$=n(3841),w=n(3575),O=n(8972);let P=e=>{let{type:t,setType:n}=e,[a,i]=(0,c.useState)([]);return(0,c.useEffect)(()=>{j.HQ.getAll().then(i)},[]),(0,r.jsxs)(C.Z,{fullWidth:!0,children:[(0,r.jsx)($.Z,{id:"demo-simple-select-label-type-users",children:"Tipo"}),(0,r.jsx)(w.Z,{labelId:"demo-simple-select-label-type-users",id:"demo-simple-select-type-users",label:"Tipo",value:t,onChange:e=>{let{target:{value:t}}=e;return n(t)},children:a.map(e=>(0,r.jsx)(O.Z,{value:e.id,children:e.name},e.id))})]})},N={name:"",type:null,password:""},I=e=>{let{cancelCreate:t,getUsers:n}=e,[o,l]=(0,c.useState)(N),{notify:d}=(0,Z.d)(),u=()=>{let e=o.name.trim(),r=o.password.trim();return e?r?o.type?void j.Wj.save({name:e,idUserType:Number(o.type),password:r}).then(()=>{d("Usuario creado correctamente","success"),n(),t()}).catch(e=>{var t,n;return d((null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||e.message)}):d("Seleccione un tipo"):d("Agregue una contrase\xf1a"):d("Agregue un nombre")};return(0,r.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,r.jsx)(s.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,r.jsx)(g.Z,{children:(0,r.jsx)(y.Z,{label:"Nombre completo",variant:"outlined",fullWidth:!0,value:o.name,onChange:e=>{let{target:{value:t}}=e;return l({...o,name:t})}})})}),(0,r.jsx)(s.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,r.jsx)(g.Z,{children:(0,r.jsx)(y.Z,{label:"Contrase\xf1a",variant:"outlined",fullWidth:!0,value:o.password,onChange:e=>{let{target:{value:t}}=e;return l({...o,password:t})}})})}),(0,r.jsx)(s.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,r.jsx)(g.Z,{children:(0,r.jsx)(P,{type:o.type,setType:e=>l({...o,type:e})})})}),(0,r.jsx)(s.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,r.jsxs)(a.Z,{"aria-label":"outlined primary button group",sx:{mt:1},children:[(0,r.jsx)(i.Z,{variant:"contained",endIcon:(0,r.jsx)(k.Z,{}),onClick:u,children:"Guardar"}),(0,r.jsx)(i.Z,{variant:"outlined",endIcon:(0,r.jsx)(k.Z,{}),onClick:t,children:"Cancelar"})]})})]})};var A=function(){let[e,t]=(0,c.useState)([]),[n,d]=(0,c.useState)(""),u=()=>{j.Wj.getAll().then(t)};return(0,c.useEffect)(()=>{u()},[]),(0,r.jsx)(o.Z,{title:"Usuarios",children:(0,r.jsxs)(s.ZP,{container:!0,spacing:1,children:["add"===n&&(0,r.jsx)(s.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,r.jsx)(I,{cancelCreate:()=>d(""),getUsers:u})}),""===n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,r.jsx)(a.Z,{variant:"contained","aria-label":"outlined primary button group",children:(0,r.jsx)(i.Z,{startIcon:(0,r.jsx)(l.Z,{}),onClick:()=>d("add"),children:"Agregar"})})}),(0,r.jsx)(s.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,r.jsx)(b,{users:e,getUsers:u})})]})]})})}},1459:function(e,t,n){"use strict";n.d(t,{j5:function(){return o},jH:function(){return i},p6:function(){return s}});var r=n(381),a=n.n(r);n(5655);let i=e=>a()(e).format("LLLL a"),s=e=>a()(e).format("LL"),o=e=>{let[t,n,r]=e.split("-");return new Date(Number(t),Number(n)-1,Number(r))}}},function(e){e.O(0,[885,58,519,433,786,917,289,840,318,774,888,179],function(){return e(e.s=6249)}),_N_E=e.O()}]);