(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{1733:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var s=r(n(4938)),i=n(5893),l=(0,s.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=l},9069:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var s=r(n(4938)),i=n(5893),l=(0,s.default)((0,i.jsx)("path",{d:"M13 8c0-2.21-1.79-4-4-4S5 5.79 5 8s1.79 4 4 4 4-1.79 4-4zm2 2v2h3v3h2v-3h3v-2h-3V7h-2v3h-3zM1 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4z"}),"PersonAddAlt1");t.Z=l},6818:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var s=r(n(4938)),i=n(5893),l=(0,s.default)((0,i.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=l},6249:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return n(854)}])},854:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(5893),s=n(6863),i=n(1057),l=n(6886),a=n(3318),c=n(9069),d=n(7294),u=n(5248),o=n(1459),h=n(1733),m=n(6470),x=n(2974),j=n(7586),v=function(e){let{users:t,getUsers:n}=e,{notify:s}=(0,x.d$)(),i=e=>{m.Wj.remove(e).then(()=>{s("Usuario eliminado correctamente","success"),n()}).catch(e=>{var t,n;return s((null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||e.message)})};return(0,r.jsx)(j.Z,{rows:t,columns:["ID","Nombre","Tipo","Fecha de creacion","Ultima Actualizacion","Eliminar"],renderListItem:e=>(0,r.jsxs)(u.AF,{children:[(0,r.jsx)(u.Yk,{component:"th",scope:"seller",children:e.id}),(0,r.jsx)(u.Yk,{children:e.name}),(0,r.jsx)(u.Yk,{children:e.userType.name}),(0,r.jsx)(u.Yk,{children:(0,o.jH)(e.createdAt)}),(0,r.jsx)(u.Yk,{children:(0,o.jH)(e.updatedAt)}),(0,r.jsx)(u.Yk,{align:"center",children:(0,r.jsx)(h.Z,{color:"error",style:{cursor:"pointer"},onClick:()=>i(e.id)})})]},e.id)})},p=n(629),Z=n(1903),f=n(6818),g=n(4054),b=n(3841),k=n(3575),y=n(8972);let w=e=>{let{type:t,setType:n}=e,[s,i]=(0,d.useState)([]);return(0,d.useEffect)(()=>{m.HQ.getAll().then(i)},[]),(0,r.jsxs)(g.Z,{fullWidth:!0,children:[(0,r.jsx)(b.Z,{id:"demo-simple-select-label-type-users",children:"Tipo"}),(0,r.jsx)(k.Z,{labelId:"demo-simple-select-label-type-users",id:"demo-simple-select-type-users",label:"Tipo",value:t,onChange:e=>{let{target:{value:t}}=e;return n(t)},children:s.map(e=>(0,r.jsx)(y.Z,{value:e.id,children:e.name},e.id))})]})},C={name:"",type:null,password:""},P=e=>{let{cancelCreate:t,getUsers:n}=e,[a,c]=(0,d.useState)(C),{notify:u}=(0,x.d$)(),o=()=>{let e=a.name.trim(),r=a.password.trim();return e?r?a.type?void m.Wj.save({name:e,idUserType:Number(a.type),password:r}).then(()=>{u("Usuario creado correctamente","success"),n(),t()}).catch(e=>{var t,n;return u((null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||e.message)}):u("Seleccione un tipo"):u("Agregue una contrase\xf1a"):u("Agregue un nombre")};return(0,r.jsxs)(l.ZP,{container:!0,spacing:1,children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,r.jsx)(p.Z,{children:(0,r.jsx)(Z.Z,{label:"Nombre completo",variant:"outlined",fullWidth:!0,value:a.name,onChange:e=>{let{target:{value:t}}=e;return c({...a,name:t})}})})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,r.jsx)(p.Z,{children:(0,r.jsx)(Z.Z,{label:"Contrase\xf1a",variant:"outlined",fullWidth:!0,value:a.password,onChange:e=>{let{target:{value:t}}=e;return c({...a,password:t})}})})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,r.jsx)(p.Z,{children:(0,r.jsx)(w,{type:a.type,setType:e=>c({...a,type:e})})})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,r.jsxs)(s.Z,{"aria-label":"outlined primary button group",sx:{mt:1},children:[(0,r.jsx)(i.Z,{variant:"contained",endIcon:(0,r.jsx)(f.Z,{}),onClick:o,children:"Guardar"}),(0,r.jsx)(i.Z,{variant:"outlined",endIcon:(0,r.jsx)(f.Z,{}),onClick:t,children:"Cancelar"})]})})]})};var _=function(){let[e,t]=(0,d.useState)([]),[n,u]=(0,d.useState)(""),o=()=>{m.Wj.getAll().then(t)};return(0,d.useEffect)(()=>{o()},[]),(0,r.jsx)(a.Z,{title:"Usuarios",children:(0,r.jsxs)(l.ZP,{container:!0,spacing:1,children:["add"===n&&(0,r.jsx)(l.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,r.jsx)(P,{cancelCreate:()=>u(""),getUsers:o})}),""===n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,r.jsx)(s.Z,{variant:"contained","aria-label":"outlined primary button group",children:(0,r.jsx)(i.Z,{startIcon:(0,r.jsx)(c.Z,{}),onClick:()=>u("add"),children:"Agregar"})})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,r.jsx)(v,{users:e,getUsers:o})})]})]})})}},1459:function(e,t,n){"use strict";n.d(t,{a8:function(){return c},j5:function(){return a},jH:function(){return i},p6:function(){return l}});var r=n(381),s=n.n(r);n(5655);let i=e=>s()(e).format("LLLL a"),l=e=>s()(e).format("LL"),a=e=>{let[t,n,r]=e.split("-");return new Date(Number(t),Number(n)-1,Number(r))},c=(e,t)=>s()(e).format(t)}},function(e){e.O(0,[885,681,102,633,849,649,318,774,888,179],function(){return e(e.s=6249)}),_N_E=e.O()}]);