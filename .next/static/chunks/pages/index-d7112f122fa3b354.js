(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1022)}])},8719:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5893),l=n(7294),o=n(1903),a=n(5545),i=n(6308);function s(e){let{value:t,onChange:n}=e,[s,u]=(0,l.useState)([]);return(0,l.useEffect)(()=>{i.Wj.getDrivers().then(u)},[]),(0,r.jsx)(a.Z,{disablePortal:!0,id:"combo-box-demo-drivers",options:s,getOptionLabel:e=>e.name,renderInput:e=>(0,r.jsx)(o.Z,{...e,label:"Drivers",fullWidth:!0}),value:t,onChange:(e,t)=>n(t)})}},7494:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var r=n(5893),l=n(7294),o=n(1903),a=n(5545),i=n(6308);let s=e=>{let{value:t,onChange:n}=e,[s,u]=(0,l.useState)([]);return(0,l.useEffect)(()=>{i.BC.getAll().then(u)},[]),(0,r.jsx)(a.Z,{disablePortal:!0,id:"combo-box-demo-placas",options:s,getOptionLabel:e=>"".concat(e.placa," - ").concat(e.logistica.name),renderInput:e=>(0,r.jsx)(o.Z,{...e,label:"Placas",fullWidth:!0}),value:t,onChange:(e,t)=>n(t)})}},8126:function(e,t,n){"use strict";n.d(t,{wZ:function(){return a},E5:function(){return f},EV:function(){return p},yO:function(){return _},tF:function(){return h},DA:function(){return P.D},h1:function(){return d},Yk:function(){return j},AF:function(){return b},DY:function(){return A}});var r=n(5893),l=n(3795),o=n(5861);let a=e=>(0,r.jsxs)(o.Z,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Copyright \xa9 ",(0,r.jsx)(l.Z,{color:"inherit",target:"_blank",href:"https://www.google.com/search?q=miguel+ferreira&source=lnms&tbm=isch&sa=X&ved=2ahUKEwjOp8SbnbT8AhU6NEQIHYh7B1oQ_AUoAXoECAEQAw&biw=1920&bih=975&dpr=1#imgrc=6nDBPXCQvl3kgM",children:"Miguel Luis Inc."})," ",new Date().getFullYear(),"."]});var i=n(7294),s=n(1903),u=n(5545),c=n(6308);let d=e=>{let{label:t,value:n,onChange:l,type:o,idsDisabled:a}=e,[d,p]=(0,i.useState)([]);return(0,i.useEffect)(()=>{"noParent"===o?c.Fz.getAllNoParent().then(p):c.Fz.getAllBasicSeller().then(p)},[o]),(0,r.jsx)(u.Z,{options:d,getOptionLabel:e=>"".concat(e.uuid," - ").concat(e.nombre),getOptionDisabled:e=>!!(null==a?void 0:a.includes(e.id)),renderInput:e=>(0,r.jsx)(s.Z,{...e,label:null!=t?t:"Sellers",autoComplete:"off"}),value:n,onChange:(e,t)=>l(t)})},p=e=>{let{entidad:t,setEntidad:n}=e,[l,o]=i.useState([]);return i.useEffect(()=>{c.gZ.getAll().then(o)},[]),(0,r.jsx)(u.Z,{options:l,renderInput:e=>(0,r.jsx)(s.Z,{...e,label:"Estado",autoComplete:"off"}),value:t,onChange:(e,t)=>n(t)})},h=e=>{let{municipio:t,setMunicipio:n,entidad:l}=e,[o,a]=i.useState([]);return i.useEffect(()=>{l&&!o.length?c.Lz.getAll(l).then(a):!l&&o.length&&a([])},[l,o]),(0,r.jsx)(u.Z,{options:o,renderInput:e=>(0,r.jsx)(s.Z,{...e,label:"Municipio",autoComplete:"off"}),value:t,onChange:(e,t)=>n(t)})},f=e=>{let{ciudad:t,setCiudad:n,entidad:l,municipio:o}=e,[a,d]=i.useState([]);return i.useEffect(()=>{l&&o&&!a.length?c.H0.getAll(l,o).then(d):l||o||!a.length||d([])},[l,o,a]),(0,r.jsx)(u.Z,{options:a,renderInput:e=>(0,r.jsx)(s.Z,{...e,label:"Ciudad",autoComplete:"off"}),value:t,onChange:(e,t)=>n(t)})};var x=n(948),g=n(8102),m=n(9755),Z=n(8509);let b=(0,x.ZP)(Z.Z)(e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}),j=(0,x.ZP)(g.Z)(e=>{let{theme:t}=e;return{["&.".concat(m.Z.head)]:{backgroundColor:t.palette.primary.main,color:t.palette.common.white},["&.".concat(m.Z.body)]:{fontSize:14}}});n(8719);var v=n(2734),C=n(7357),w=n(3946),E=n(8066),y=n(6172),S=n(8317),k=n(1290);let A=e=>{let t=(0,v.Z)(),{count:n,page:l,rowsPerPage:o,onPageChange:a}=e,i=e=>{a(e,0)},s=e=>{a(e,l-1)},u=e=>{a(e,l+1)},c=e=>{a(e,Math.max(0,Math.ceil(n/o)-1))};return(0,r.jsxs)(C.Z,{sx:{flexShrink:0,ml:2.5},children:[(0,r.jsx)(w.Z,{onClick:i,disabled:0===l,"aria-label":"first page",children:"rtl"===t.direction?(0,r.jsx)(k.Z,{}):(0,r.jsx)(E.Z,{})}),(0,r.jsx)(w.Z,{onClick:s,disabled:0===l,"aria-label":"previous page",children:"rtl"===t.direction?(0,r.jsx)(S.Z,{}):(0,r.jsx)(y.Z,{})}),(0,r.jsx)(w.Z,{onClick:u,disabled:l>=Math.ceil(n/o)-1,"aria-label":"next page",children:"rtl"===t.direction?(0,r.jsx)(y.Z,{}):(0,r.jsx)(S.Z,{})}),(0,r.jsx)(w.Z,{onClick:c,disabled:l>=Math.ceil(n/o)-1,"aria-label":"last page",children:"rtl"===t.direction?(0,r.jsx)(E.Z,{}):(0,r.jsx)(k.Z,{})})]})},_=e=>{let{value:t,onChange:n}=e,[l,o]=(0,i.useState)([]);return(0,i.useEffect)(()=>{c.N4.getAll().then(o)},[]),(0,r.jsx)(u.Z,{disablePortal:!0,id:"combo-box-demo-logisticas",options:l,getOptionLabel:e=>e.name,renderInput:e=>(0,r.jsx)(s.Z,{...e,label:"Logisticas",fullWidth:!0}),value:t,onChange:(e,t)=>n(t)})};var P=n(7494)},4112:function(e,t,n){"use strict";n.d(t,{m:function(){return o},d:function(){return r.d}});var r=n(7889),l=n(7294);let o=function(e){let[t,n]=(0,l.useState)(e),[r,o]=(0,l.useState)("");return(0,l.useEffect)(()=>{let e="";for(let n in t){let r=t[n];r&&(e=""===e?"?".concat(n,"=").concat(r):e+"&".concat(n,"=").concat(r))}console.log({params:e}),o(e)},[t]),{filters:t,setFilters:n,querystring:r}}},7889:function(e,t,n){"use strict";n.d(t,{d:function(){return l}});var r=n(5678);let l=()=>{let e=(e,t)=>{(0,r.Am)(e,{hideProgressBar:!1,autoClose:2e3,type:null!=t?t:"warning",position:"top-right"})};return{notify:e}}},1022:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(5893),l=n(7294),o=n(9661),a=n(1057),i=n(6720),s=n(1903),u=n(7357),c=n(3845),d=n(5861),p=n(5582),h=n(8239),f=n(1927),x=n(8126),g=n(5545),m=n(3264),Z=n(1796),b=n(6308);let j=(0,m.Z)("div")(e=>{let{theme:t}=e;return{position:"sticky",top:"-8px",padding:"4px 10px",color:t.palette.primary.main,backgroundColor:"light"===t.palette.mode?(0,Z.$n)(t.palette.primary.light,.85):(0,Z._j)(t.palette.primary.main,.8)}}),v=(0,m.Z)("ul")({padding:0}),C=e=>{let{user:t,setUser:n}=e,[o,a]=l.useState([]);return l.useEffect(()=>{b.Wj.getUsersLogin().then(e=>{a(e)})},[]),(0,r.jsx)(g.Z,{id:"grouped-demo",options:o.sort((e,t)=>-t.nameUserType.localeCompare(e.nameUserType)),groupBy:e=>e.nameUserType,getOptionLabel:e=>"".concat(e.name," - ").concat(e.nameUserType),renderInput:e=>(0,r.jsx)(s.Z,{...e,label:"Usuarios"}),renderGroup:e=>(0,r.jsxs)("li",{children:[(0,r.jsx)(j,{children:e.group}),(0,r.jsx)(v,{children:e.children})]},e.group),value:t,onChange:(e,t)=>n(t)})};var w=n(8470),E=n(4112),y=n(1163);let S=(0,h.Z)();var k=function(){let[e,t]=l.useState(!1),[n,h]=l.useState(null),[g,m]=l.useState(""),{loginUser:Z,isLoggedIn:b}=l.useContext(w.Vo),{notify:j}=(0,E.d)(),v=(0,y.useRouter)(),k=l.useMemo(()=>!n||!(null==g?void 0:g.trim())||e,[n,g,e]),A=async e=>{if(e.preventDefault(),n){t(!0);let{isLoggedIn:r}=await Z(n.id,g.trim());if(t(!1),!r)return j("Credenciales no validas")}};return l.useEffect(()=>{b&&v.push("/dashboard")},[j,b,v]),(0,r.jsx)(f.Z,{theme:S,children:(0,r.jsxs)(p.Z,{component:"main",maxWidth:"xs",children:[(0,r.jsx)(i.ZP,{}),(0,r.jsxs)(u.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(o.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,r.jsx)(c.Z,{})}),(0,r.jsx)(d.Z,{component:"h1",variant:"h5",children:"Ferreira Enterprise."}),(0,r.jsxs)(u.Z,{component:"form",onSubmit:A,noValidate:!0,sx:{mt:1},children:[(0,r.jsx)(C,{user:n,setUser:h}),(0,r.jsx)(s.Z,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:g,onChange:e=>{let{target:{value:t}}=e;return m(t)}}),(0,r.jsx)(a.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:k,children:"Inciar Session"})]})]}),(0,r.jsx)(x.wZ,{sx:{mt:8,mb:4}})]})})}}},function(e){e.O(0,[58,519,433,205,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);