(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{1733:function(e,s,n){"use strict";var r=n(4836);s.Z=void 0;var t=r(n(4938)),l=n(5893),i=(0,t.default)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");s.Z=i},9069:function(e,s,n){"use strict";var r=n(4836);s.Z=void 0;var t=r(n(4938)),l=n(5893),i=(0,t.default)((0,l.jsx)("path",{d:"M13 8c0-2.21-1.79-4-4-4S5 5.79 5 8s1.79 4 4 4 4-1.79 4-4zm2 2v2h3v3h2v-3h3v-2h-3V7h-2v3h-3zM1 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4z"}),"PersonAddAlt1");s.Z=i},6818:function(e,s,n){"use strict";var r=n(4836);s.Z=void 0;var t=r(n(4938)),l=n(5893),i=(0,t.default)((0,l.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");s.Z=i},6249:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return n(854)}])},854:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return _}});var r=n(5893),t=n(6863),l=n(1057),i=n(6886),a=n(3318),d=n(9069),c=n(7294),o=n(5248),u=n(1733),h=n(6470),m=n(2974),x=n(7586),v=function(e){let{users:s,getUsers:n}=e,{notify:t}=(0,m.d$)(),l=e=>{h.Wj.remove(e).then(()=>{t("Usuario eliminado correctamente","success"),n()}).catch(e=>{var s,n;return t((null===(s=e.response)||void 0===s?void 0:null===(n=s.data)||void 0===n?void 0:n.message)||e.message)})};return(0,r.jsx)(x.Z,{rows:s,columns:["ID","Nombre","Tipo","Eliminar"],renderListItem:e=>(0,r.jsxs)(o.AF,{children:[(0,r.jsx)(o.Yk,{component:"th",scope:"seller",children:e.id}),(0,r.jsx)(o.Yk,{children:e.name}),(0,r.jsx)(o.Yk,{children:e.userType.name}),(0,r.jsx)(o.Yk,{children:(0,r.jsx)(u.Z,{color:"error",style:{cursor:"pointer"},onClick:()=>l(e.id)})})]},e.id)})},j=n(629),p=n(1903),Z=n(6818),g=n(4054),f=n(3841),b=n(3575),y=n(8972);let k=e=>{let{type:s,setType:n}=e,[t,l]=(0,c.useState)([]);return(0,c.useEffect)(()=>{h.HQ.getAll().then(l)},[]),(0,r.jsxs)(g.Z,{fullWidth:!0,children:[(0,r.jsx)(f.Z,{id:"demo-simple-select-label-type-users",children:"Tipo"}),(0,r.jsx)(b.Z,{labelId:"demo-simple-select-label-type-users",id:"demo-simple-select-type-users",label:"Tipo",value:s,onChange:e=>{let{target:{value:s}}=e;return n(s)},children:t.map(e=>(0,r.jsx)(y.Z,{value:e.id,children:e.name},e.id))})]})},C={name:"",type:null,password:""},P=e=>{let{cancelCreate:s,getUsers:n}=e,[a,d]=(0,c.useState)(C),{notify:o}=(0,m.d$)(),u=()=>{let e=a.name.trim(),r=a.password.trim();return e?r?a.type?void h.Wj.save({name:e,idUserType:Number(a.type),password:r}).then(()=>{o("Usuario creado correctamente","success"),n(),s()}).catch(e=>{var s,n;return o((null===(s=e.response)||void 0===s?void 0:null===(n=s.data)||void 0===n?void 0:n.message)||e.message)}):o("Seleccione un tipo"):o("Agregue una contrase\xf1a"):o("Agregue un nombre")};return(0,r.jsxs)(i.ZP,{container:!0,spacing:1,children:[(0,r.jsx)(i.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,r.jsx)(j.Z,{children:(0,r.jsx)(p.Z,{label:"Nombre completo",variant:"outlined",fullWidth:!0,value:a.name,onChange:e=>{let{target:{value:s}}=e;return d({...a,name:s})}})})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,r.jsx)(j.Z,{children:(0,r.jsx)(p.Z,{label:"Contrase\xf1a",variant:"outlined",fullWidth:!0,value:a.password,onChange:e=>{let{target:{value:s}}=e;return d({...a,password:s})}})})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,r.jsx)(j.Z,{children:(0,r.jsx)(k,{type:a.type,setType:e=>d({...a,type:e})})})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,r.jsxs)(t.Z,{"aria-label":"outlined primary button group",sx:{mt:1},children:[(0,r.jsx)(l.Z,{variant:"contained",endIcon:(0,r.jsx)(Z.Z,{}),onClick:u,children:"Guardar"}),(0,r.jsx)(l.Z,{variant:"outlined",endIcon:(0,r.jsx)(Z.Z,{}),onClick:s,children:"Cancelar"})]})})]})};var _=function(){let[e,s]=(0,c.useState)([]),[n,o]=(0,c.useState)(""),u=()=>{h.Wj.getAll().then(s)};return(0,c.useEffect)(()=>{u()},[]),(0,r.jsx)(a.Z,{title:"Usuarios",children:(0,r.jsxs)(i.ZP,{container:!0,spacing:1,children:["add"===n&&(0,r.jsx)(i.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,r.jsx)(P,{cancelCreate:()=>o(""),getUsers:u})}),""===n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,r.jsx)(t.Z,{variant:"contained","aria-label":"outlined primary button group",children:(0,r.jsx)(l.Z,{startIcon:(0,r.jsx)(d.Z,{}),onClick:()=>o("add"),children:"Agregar"})})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,r.jsx)(v,{users:e,getUsers:u})})]})]})})}}},function(e){e.O(0,[681,102,633,849,908,318,774,888,179],function(){return e(e.s=6249)}),_N_E=e.O()}]);